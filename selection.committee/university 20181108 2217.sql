--
-- Script was generated by Devart dbForge Studio for MySQL, Version 7.3.148.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 08.11.2018 22:17:25
-- Server version: 5.7.23-log
-- Client version: 4.1
--


-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

--
-- Set default database
--
USE university;

--
-- Drop table "register"
--
DROP TABLE IF EXISTS register;

--
-- Drop table "subject"
--
DROP TABLE IF EXISTS subject;

--
-- Drop table "faculty_subject"
--
DROP TABLE IF EXISTS faculty_subject;

--
-- Drop table "faculty"
--
DROP TABLE IF EXISTS faculty;

--
-- Drop table "enrollee"
--
DROP TABLE IF EXISTS enrollee;

--
-- Set default database
--
USE university;

--
-- Create table "enrollee"
--
CREATE TABLE enrollee (
  id INT(11) NOT NULL AUTO_INCREMENT,
  first_name VARCHAR(255) DEFAULT NULL,
  last_name VARCHAR(255) DEFAULT NULL,
  certificate_score INT(11) DEFAULT 0,
  passport VARCHAR(255) NOT NULL,
  PRIMARY KEY (id),
  UNIQUE INDEX enrollee_passport_uindex (passport)
)
ENGINE = INNODB
AUTO_INCREMENT = 16
AVG_ROW_LENGTH = 5461
CHARACTER SET utf8
COLLATE utf8_general_ci
ROW_FORMAT = DYNAMIC;

--
-- Create table "faculty"
--
CREATE TABLE faculty (
  id INT(11) NOT NULL AUTO_INCREMENT,
  name VARCHAR(255) NOT NULL,
  recruitment_plan INT(11) DEFAULT 0,
  PRIMARY KEY (id)
)
ENGINE = INNODB
AUTO_INCREMENT = 6
AVG_ROW_LENGTH = 3276
CHARACTER SET utf8
COLLATE utf8_general_ci
ROW_FORMAT = DYNAMIC;

--
-- Create table "faculty_subject"
--
CREATE TABLE faculty_subject (
  id INT(11) NOT NULL AUTO_INCREMENT,
  faculty_id INT(11) NOT NULL,
  subject_id INT(11) NOT NULL,
  subject_num INT(11) NOT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB
AUTO_INCREMENT = 7
AVG_ROW_LENGTH = 2730
CHARACTER SET utf8
COLLATE utf8_general_ci
ROW_FORMAT = DYNAMIC;

--
-- Create table "subject"
--
CREATE TABLE subject (
  id INT(11) NOT NULL AUTO_INCREMENT,
  name VARCHAR(255) NOT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB
AUTO_INCREMENT = 6
AVG_ROW_LENGTH = 4096
CHARACTER SET utf8
COLLATE utf8_general_ci
ROW_FORMAT = DYNAMIC;

--
-- Create table "register"
--
CREATE TABLE register (
  id INT(11) NOT NULL AUTO_INCREMENT,
  enrollee_id INT(11) DEFAULT NULL,
  subject_id INT(11) DEFAULT NULL,
  subject_score INT(11) DEFAULT NULL,
  faculty_id INT(11) DEFAULT NULL,
  PRIMARY KEY (id),
  CONSTRAINT FK_register_enrollee_id FOREIGN KEY (enrollee_id)
    REFERENCES enrollee(id) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT FK_register_faculty_id FOREIGN KEY (faculty_id)
    REFERENCES faculty(id) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT FK_register_subject_id FOREIGN KEY (subject_id)
    REFERENCES subject(id) ON DELETE NO ACTION ON UPDATE NO ACTION
)
ENGINE = INNODB
AUTO_INCREMENT = 46
AVG_ROW_LENGTH = 1820
CHARACTER SET utf8
COLLATE utf8_general_ci
ROW_FORMAT = DYNAMIC;

-- 
-- Dumping data for table enrollee
--
INSERT INTO enrollee VALUES
(13, 'Максим', 'Олегович', 10, 'HB0000001'),
(14, 'Сергей', 'Сергеевич', 20, 'HB0000002'),
(15, 'Кирилл', 'Денисович', 30, 'HB0000003');

-- 
-- Dumping data for table faculty
--
INSERT INTO faculty VALUES
(1, 'ФАИС', 2),
(2, 'ЭФ', 1),
(3, 'МСФ', 1),
(4, 'МТФ', 1),
(5, 'ГЭФ', 1);

-- 
-- Dumping data for table faculty_subject
--
INSERT INTO faculty_subject VALUES
(1, 1, 1, 1),
(2, 1, 2, 2),
(3, 1, 3, 3),
(4, 2, 4, 1),
(5, 2, 2, 2),
(6, 2, 3, 3);

-- 
-- Dumping data for table register
--
INSERT INTO register VALUES
(37, 13, 1, 10, 1),
(38, 13, 2, 20, 1),
(39, 13, 3, 30, 1),
(40, 14, 1, 40, 1),
(41, 14, 2, 50, 1),
(42, 14, 3, 60, 1),
(43, 15, 1, 70, 1),
(44, 15, 2, 80, 1),
(45, 15, 3, 90, 1);

-- 
-- Dumping data for table subject
--
INSERT INTO subject VALUES
(1, 'Математика'),
(2, 'Физика'),
(3, 'Русский'),
(4, 'Белорусский'),
(5, 'Английский');
-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
